/**
 * xjoy - a toolset for personal use
 * @version v1.1.0
 * @link https://github.com/xiekun1992/xjoy#readme
 * @license MIT
 */
 
(function(global){'use strict';var _x = {};function ColorParser(){"use strict";var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=function(e){for(var o,n=e.split(""),t=0;t<n.length;t++)if(r.indexOf(n[t])==-1)throw new TypeError("invalid hex value.");o=3==e.length?e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e;var l=16*r.indexOf(o[0])+1*r.indexOf(o[1]),a=16*r.indexOf(o[2])+1*r.indexOf(o[3]),i=16*r.indexOf(o[4])+1*r.indexOf(o[5]);return"rgb("+l+", "+a+", "+i+")"},o=function(){for(var e="#",o=t.apply(null,arguments),n=0;n<o.length;n++){var l=o[n];e+=r[l/16&-1]+""+r[l%16]}return e},n=function(){var r,e,o,n=[].slice.call(arguments),t=n[0]/255,l=n[1]/255,a=n[2]/255,i=Math.max(t,l,a),s=Math.min(t,l,a);switch(i){case s:r=0;break;case t:r=l>=a?60*(l-a)/(i-s):60*(l-a)/(i-s)+360;break;case l:r=60*(a-t)/(i-s)+120;break;case a:r=60*(t-l)/(i-s)+240}return o=(i+s)/2,e=0==o||i==s?0:o>.5?(i-s)/(2-(i+s)):(i-s)/(i+s),"hsl("+Math.round(r)+", "+Math.round(100*e)+"%, "+Math.round(100*o)+"%)"},t=function(){for(var r=[].slice.call(arguments,0,3),e=[],o=0;o<3;o++){if("number"!=typeof r[o]||(r[o]&-1)!==r[o])throw new TypeError("invalid rgb value.");var n=parseInt(r[o]);if(console.log(n),n<0||n>255)throw new Error("rgb value should between 0 and 255.");e.push(n)}return e},l=function(r){var e=/^rgb\((\d+),\s?(\d+),\s?(\d+)\)$/i.exec(r);return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]};ColorParser.prototype.hexToRgb=function(r){var o;if("string"!=typeof r)throw new TypeError("hexToRgb parameter must be a string.");if(0===r.length)throw new Error('hexToRgb should be call like hexToRgb("#fff").');if("#"!==r.charAt(0)){if(3!==r.length&&6!==r.length)throw new TypeError("invalid hex value.");o=e(r.toLowerCase())}else{if(4!==r.length&&7!==r.length)throw new TypeError("invalid hex value.");o=e(r.slice(1).toLowerCase())}return o},ColorParser.prototype.rgbToHex=function(){return o.apply(null,t.apply(null,arguments))},ColorParser.prototype.rgbToHsl=function(){return n.apply(null,t.apply(null,arguments))},ColorParser.prototype.hslToRgb=function(){var r=[].slice.call(arguments);if(!(r.length>0))throw new Error("hslToRgb should be called like hslToRgb(h, s, l).");for(var e=0;e<r.length;e++)if("number"!=typeof r[e]||r[e]!==r[e])throw new TypeError("invalid hsl value.");var o,n,t,l=parseFloat(r[0])/360,a=parseFloat(r[1])/100,i=parseFloat(r[2])/100;if(!(l>=0&&l<1&&a>=0&&a<=1&&i>=0&&i<=1))throw new TypeError("invalid hsl value.");if(0==a)o=n=t=i;else{var s,h,l,u,p,f;s=i<.5?i*(1+a):i+a-i*a,h=2*i-s,u=(3*l+1)/3,p=l,f=(3*l-1)/3;for(var c=[u,p,f],e=0;e<c.length;e++)c[e]<0?c[e]+=1:c[e]>1&&(c[e]-=1),6*c[e]<1?c[e]=h+6*(s-h)*c[e]:c[e]<.5?c[e]=s:3*c[e]<2?c[e]=h+6*(s-h)*(2/3-c[e]):c[e]=h;o=c[0],n=c[1],t=c[2]}return"rgb("+Math.round(255*o)+", "+Math.round(255*n)+", "+Math.round(255*t)+")"},ColorParser.prototype.hexToHsl=function(){return this.rgbToHsl.apply(null,l(this.hexToRgb.apply(this,arguments)))},ColorParser.prototype.hslToHex=function(){return this.rgbToHex.apply(null,l(this.hslToRgb.apply(this,arguments)))}}function Observer(){"use strict";var r={};Observer.prototype.publish=function(e,o){if(!(e in r))throw new Error("no "+e+" event");for(var n=r[e],t=0;t<n.length;t++)n[t](o)},Observer.prototype.unsubscribe=function(e,o){if("string"!=typeof e)throw new TypeError("eventName should be a string");if("function"!=typeof o)throw new TypeError("should have second parameter: callback function");if(!(e in r))throw new Error("no "+e+" event");for(var n=r[e],t=0;t<n.length;t++)n[t]===o&&(n.splice(t,1),0===n.length&&delete r[e])},Observer.prototype.subscribe=function(e,o){if("string"!=typeof e)throw new TypeError("eventName should be a string");if("function"!=typeof o)throw new TypeError("callback should be a function");r[e]||(r[e]=[]),r[e].push(o)},Observer.prototype.showEvents=function(){var e=[];for(var o in r)e.push(o);return e}};_x['ColorParser'] = new ColorParser();_x['Observer'] = new Observer();global._x = _x;})(window);